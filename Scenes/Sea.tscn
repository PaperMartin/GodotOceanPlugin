[gd_scene load_steps=15 format=2]

[ext_resource path="res://addons/ocean/scripts/SinglePlaneWater.gd" type="Script" id=1]
[ext_resource path="res://default_env.tres" type="Environment" id=2]
[ext_resource path="res://addons/ocean/scripts/WaterBody.gd" type="Script" id=3]
[ext_resource path="res://addons/ocean/Shaders/water_gertsner.shader" type="Shader" id=4]
[ext_resource path="res://addons/ocean/textures/FoamTex.tres" type="Texture" id=5]
[ext_resource path="res://addons/ocean/textures/new_noisetexture.tres" type="Texture" id=6]
[ext_resource path="res://addons/ocean/textures/Foam_diffuse.png" type="Texture" id=7]

[sub_resource type="GIProbeData" id=1]
bounds = AABB( -11, -5, -11, 22, 10, 22 )
cell_size = 0.171875
to_cell_xform = Transform( 5.81818, 0, 0, 0, 5.81818, 0, 0, 0, 5.81818, 64, 29.0909, 64 )
dynamic_data = PoolIntArray( 0, 8, 128, 64, 128, 1, 0, 0, 0, 124323688, 0, 0, 7, 0, 1, 3432, -1, -1, -1, -1, -1, -1, -1, -1, 0, 0, 8355711, 0 )
dynamic_range = 4
bias = 1.5
normal_bias = 0.1
propagation = 0.7

[sub_resource type="SpatialMaterial" id=2]

[sub_resource type="CubeMesh" id=3]
size = Vector3( 4, 20, 4 )

[sub_resource type="SphereMesh" id=4]
radius = 3.0
height = 3.0

[sub_resource type="SpatialMaterial" id=5]
albedo_color = Color( 0.219608, 0.662745, 0.203922, 1 )
metallic_specular = 1.0

[sub_resource type="ShaderMaterial" id=6]
shader = ExtResource( 4 )
shader_param/WaveColor = Color( 0, 0.505882, 0.854902, 1 )
shader_param/Metallic = 0.85
shader_param/Roughness = 0.1
shader_param/Specular = 1.0
shader_param/NormalsAScale = 0.5
shader_param/NormalsBScale = 1.0
shader_param/NormalSpeed = 0.1
shader_param/NormalsDepth = 0.5
shader_param/BorderFoamFade = 1.0
shader_param/RefractionScale = Vector2( 0.25, 0.25 )
shader_param/RefractionStrength = 0.03
shader_param/WaterDepthFade = 10.0
shader_param/Wave1 = Plane( 10, 0.25, 1, 1 )
shader_param/Wave2 = Plane( 5, 0.25, 1, 0.5 )
shader_param/Wave3 = Plane( 3, 0.25, 1, 1.3 )
shader_param/Wave4 = Plane( 2, 0.25, 1.3, 1 )
shader_param/FoamTexture = ExtResource( 7 )
shader_param/NormalsA = ExtResource( 6 )
shader_param/RefractionTexture = ExtResource( 5 )

[sub_resource type="PlaneMesh" id=7]
size = Vector2( 10, 10 )
subdivide_width = 49
subdivide_depth = 49

[node name="Spatial" type="Spatial"]

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( -0.707107, -0.454519, 0.541675, 0, 0.766044, 0.642787, -0.707107, 0.454519, -0.541675, 0, 4.423, 0 )
shadow_enabled = true
shadow_bias = 0.02

[node name="Camera" type="Camera" parent="."]
transform = Transform( -0.707107, -0.270598, 0.653281, 0, 0.92388, 0.382683, -0.707107, 0.270598, -0.653281, 12, 4, -12 )

[node name="GIProbe" type="GIProbe" parent="."]
visible = false
extents = Vector3( 11, 5, 11 )
normal_bias = 0.1
data = SubResource( 1 )

[node name="MeshInstance2" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 4.72077, -8.32196, 1.19188 )
material_override = SubResource( 2 )
mesh = SubResource( 3 )
material/0 = null

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource( 2 )

[node name="MeshInstance" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.82532, -0.225234, -4.59709 )
mesh = SubResource( 4 )
material/0 = SubResource( 5 )

[node name="WaterBody" type="Spatial" parent="."]
script = ExtResource( 3 )

[node name="SinglePlaneWater" type="MeshInstance" parent="WaterBody"]
material_override = SubResource( 6 )
mesh = SubResource( 7 )
material/0 = null
script = ExtResource( 1 )
